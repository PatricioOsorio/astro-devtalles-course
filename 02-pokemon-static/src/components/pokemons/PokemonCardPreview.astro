---
interface Props {
  name: string;
  url: string;
  hrefMode?: 'id' | 'name';
  href?: string;
}

const { name, url, hrefMode = 'id', href } = Astro.props;

const id = url.split('/').at(-2);
const imageSrc = 'https://placehold.co/600x600/000000/FFF?text=pokemon';

const resolvedHref = href ?? (hrefMode === 'name' ? `/pokemons/${name}` : `/pokemon/${id}`);
---

<a
  href={resolvedHref}
  class="flex h-full flex-col rounded-2xl border border-border bg-card p-4 text-card-foreground shadow-sm transition-all duration-200 hover:border-primary/40 hover:shadow-lg hover:shadow-primary/10 hover:ring-1 hover:ring-primary/40 no-underline items-center"
>
  <img
    src={imageSrc}
    alt={name}
    class="size-25 rounded-full border border-border bg-background/70 p-1 object-contain"
    loading="lazy"
    transition:name={`${name}-image`}
  />

  <span>#{id} {name}</span>
</a>
